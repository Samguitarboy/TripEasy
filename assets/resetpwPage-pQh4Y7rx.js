import{F as y,H as g}from"./FooterComponent-BCy1I4_V.js";import{_}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c,a as e,o as a,j as C,i as x,F as b,b as p,r as d,e as E,m as l,q as m,n as u,p as V,t as I,H as T,I as w}from"./index-sTzrkUbf.js";import{a as f}from"./function-Irmiw5j9.js";const S="/TripEasy/assets/Error-DSgudTZE.webp",F={name:"ErrorComponent"},B={class:"error-page"};function D(r,s,n,h,o,i){return a(),c("div",B,s[0]||(s[0]=[e("h2",null,"Oops! 你來到了一個不存在的地方",-1),e("img",{id:"error_img",src:S,alt:"Error_img"},null,-1)]))}const H=_(F,[["render",D],["__scopeId","data-v-a6765ee4"]]),q="/TripEasy/assets/reset-password-BFb3JohG.webp",M={name:"resetPage",components:{HeaderComponent:g,FooterComponent:y,ErrorComponent:H},data(){return{newPassword:"",confirmPassword:"",captchaInput:"",token:"",errorMsg:"",showPassword1:!1,showPassword2:!1,tokenValid:!1,checkedToken:!1}},mounted(){const r=new URLSearchParams(window.location.search);if(this.token=r.get("token"),w(),this.token)this.checkedToken=!0,this.tokenValid=!0;else{this.checkedToken=!0,this.tokenValid=!1;return}const s=document.getElementById("captcha");s&&s.addEventListener("click",()=>w())},methods:{async handleSubmit(){const r={value:this.newPassword,focus:()=>{}},s={value:this.confirmPassword,focus:()=>{}},n=document.querySelector(".error_msg");f(r,n)||f(s,n)||await T(this.token,this.newPassword.trim(),this.confirmPassword.trim(),this.captchaInput.trim(),()=>{this.newPassword="",this.confirmPassword="",this.captchaInput=""})}}},N={key:0,class:"wrap"},U={class:"content"},L={class:"container content_container"},j={class:"main_form"},z={class:"form"},G={class:"form_item"},J=["type"],O={class:"form_item"},R=["type"],W={class:"form_item captcha_item"},Z={class:"error_msg"};function A(r,s,n,h,o,i){const v=d("HeaderComponent"),k=d("FooterComponent"),P=d("ErrorComponent");return o.checkedToken?(a(),c("div",N,[o.tokenValid?(a(),c(b,{key:0},[p(v),e("div",U,[e("div",L,[s[10]||(s[10]=E('<div class="vertical-wrapper" data-v-c3e30f7e><p class="vertical-text" data-v-c3e30f7e>走吧!</p><p class="vertical-text" data-v-c3e30f7e>讓每段旅程都有溫度</p></div><div class="main_img" data-v-c3e30f7e><img src="'+q+'" alt="reset_password_img" data-v-c3e30f7e></div>',2)),e("div",j,[s[9]||(s[9]=e("h2",null,"修改密碼",-1)),e("div",z,[e("div",G,[s[6]||(s[6]=e("i",{class:"fa-solid fa-lock"},null,-1)),l(e("input",{class:"form_txtbox",type:o.showPassword1?"text":"password","onUpdate:modelValue":s[0]||(s[0]=t=>o.newPassword=t),placeholder:"請輸入新密碼",required:""},null,8,J),[[m,o.newPassword]]),e("i",{class:u(["fa-solid",o.showPassword1?"fa-eye":"fa-eye-slash"]),onClick:s[1]||(s[1]=t=>o.showPassword1=!o.showPassword1)},null,2)]),e("div",O,[s[7]||(s[7]=e("i",{class:"fa-solid fa-lock"},null,-1)),l(e("input",{class:"form_txtbox",type:o.showPassword2?"text":"password","onUpdate:modelValue":s[2]||(s[2]=t=>o.confirmPassword=t),placeholder:"請再次輸入新密碼",required:""},null,8,R),[[m,o.confirmPassword]]),e("i",{class:u(["fa-solid",o.showPassword2?"fa-eye":"fa-eye-slash"]),onClick:s[3]||(s[3]=t=>o.showPassword2=!o.showPassword2)},null,2)]),e("div",W,[l(e("input",{type:"text",id:"captchaInput","onUpdate:modelValue":s[4]||(s[4]=t=>o.captchaInput=t),placeholder:"請輸入驗證碼"},null,512),[[V,o.captchaInput]]),s[8]||(s[8]=e("div",{id:"captcha"},null,-1))]),e("p",Z,I(o.errorMsg),1),e("input",{class:"submit_btn",type:"submit",value:"送出",onClick:s[5]||(s[5]=(...t)=>i.handleSubmit&&i.handleSubmit(...t))})])])])]),p(k)],64)):(a(),x(P,{key:1}))])):C("",!0)}const $=_(M,[["render",A],["__scopeId","data-v-c3e30f7e"]]);export{$ as default};
