import{_ as f,c as p,a as e,o as i,F as b,H as y,x,b as C,j as E,d,r as a,w as c,e as m,n as u,v as V,t as I,C as B,D as w}from"./index-qIkc4W28.js";import{a as _}from"./function-Irmiw5j9.js";const S=""+new URL("Error-DSgudTZE.webp",import.meta.url).href,T={name:"ErrorComponent"},D={class:"error-page"};function F(r,s,n,h,o,l){return i(),p("div",D,s[0]||(s[0]=[e("h2",null,"Oops! 你來到了一個不存在的地方",-1),e("img",{id:"error_img",src:S,alt:"Error_img"},null,-1)]))}const U=f(T,[["render",F],["__scopeId","data-v-a6765ee4"]]),H=""+new URL("reset-password-BFb3JohG.webp",import.meta.url).href,L={name:"resetPage",components:{HeaderComponent:y,FooterComponent:b,ErrorComponent:U},data(){return{newPassword:"",confirmPassword:"",captchaInput:"",token:"",errorMsg:"",showPassword1:!1,showPassword2:!1,tokenValid:!1,checkedToken:!1}},mounted(){const r=new URLSearchParams(window.location.search);if(this.token=r.get("token"),w(),this.token)this.checkedToken=!0,this.tokenValid=!0;else{this.checkedToken=!0,this.tokenValid=!1;return}const s=document.getElementById("captcha");s&&s.addEventListener("click",()=>w())},methods:{async handleSubmit(){const r={value:this.newPassword,focus:()=>{}},s={value:this.confirmPassword,focus:()=>{}},n=document.querySelector(".error_msg");_(r,n)||_(s,n)||await B(this.token,this.newPassword.trim(),this.confirmPassword.trim(),this.captchaInput.trim(),()=>{this.newPassword="",this.confirmPassword="",this.captchaInput=""})}}},M={key:0,class:"wrap"},q={class:"content"},N={class:"container content_container"},R={class:"img_breadcrumb_wrapper"},j={class:"main_form"},z={class:"form"},G={class:"form_item"},J=["type"],O={class:"form_item"},W=["type"],Z={class:"form_item captcha_item"},A={class:"error_msg"};function K(r,s,n,h,o,l){const v=a("HeaderComponent"),k=a("Breadcrumb"),P=a("FooterComponent"),g=a("ErrorComponent");return o.checkedToken?(i(),p("div",M,[o.tokenValid?(i(),p(E,{key:0},[d(v),e("div",q,[e("div",N,[s[11]||(s[11]=e("div",{class:"vertical-wrapper"},[e("p",{class:"vertical-text"},"走吧!"),e("p",{class:"vertical-text"},"讓每段旅程都有溫度")],-1)),e("div",R,[d(k,{class:"breadcrumb-fixed"}),s[6]||(s[6]=e("div",{class:"main_img"},[e("img",{src:H,alt:"reset_password_img"})],-1))]),e("div",j,[s[10]||(s[10]=e("h2",null,"修改密碼",-1)),e("div",z,[e("div",G,[s[7]||(s[7]=e("i",{class:"fa-solid fa-lock"},null,-1)),c(e("input",{class:"form_txtbox",type:o.showPassword1?"text":"password","onUpdate:modelValue":s[0]||(s[0]=t=>o.newPassword=t),placeholder:"請輸入新密碼",required:""},null,8,J),[[m,o.newPassword]]),e("i",{class:u(["fa-solid",o.showPassword1?"fa-eye":"fa-eye-slash"]),onClick:s[1]||(s[1]=t=>o.showPassword1=!o.showPassword1)},null,2)]),e("div",O,[s[8]||(s[8]=e("i",{class:"fa-solid fa-lock"},null,-1)),c(e("input",{class:"form_txtbox",type:o.showPassword2?"text":"password","onUpdate:modelValue":s[2]||(s[2]=t=>o.confirmPassword=t),placeholder:"請再次輸入新密碼",required:""},null,8,W),[[m,o.confirmPassword]]),e("i",{class:u(["fa-solid",o.showPassword2?"fa-eye":"fa-eye-slash"]),onClick:s[3]||(s[3]=t=>o.showPassword2=!o.showPassword2)},null,2)]),e("div",Z,[c(e("input",{type:"text",id:"captchaInput","onUpdate:modelValue":s[4]||(s[4]=t=>o.captchaInput=t),placeholder:"請輸入驗證碼"},null,512),[[V,o.captchaInput]]),s[9]||(s[9]=e("div",{id:"captcha"},null,-1))]),e("p",A,I(o.errorMsg),1),e("input",{class:"submit_btn",type:"submit",value:"送出",onClick:s[5]||(s[5]=(...t)=>l.handleSubmit&&l.handleSubmit(...t))})])])])]),d(P)],64)):(i(),C(g,{key:1}))])):x("",!0)}const Y=f(L,[["render",K],["__scopeId","data-v-560ddf11"]]);export{Y as default};
