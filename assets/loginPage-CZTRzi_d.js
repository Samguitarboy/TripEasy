import{_,F as w,H as b,c as x,d as l,a as s,r as n,w as d,v as I,e as h,n as k,f as C,g as u,t as y,p as M,h as P,o as S,i as g}from"./index-Bv1pKq8z.js";import{B as E}from"./Breadcrumb-CMe2H3QG.js";import{v as B,a as L}from"./function-Irmiw5j9.js";const A="/assets/login-CHvFKpRJ.webp",U={name:"loginPage",components:{HeaderComponent:b,Breadcrumb:E,FooterComponent:w},data(){return{email:"",password:"",rememberMe:!1,showPassword:!1,errorMsg:""}},mounted(){const o=localStorage.getItem("savedEmail"),e=localStorage.getItem("rememberMe")==="true";o&&e&&(this.email=o,this.rememberMe=!0);const m=new URLSearchParams(window.location.search).get("code");m&&(P(m),window.history.replaceState({},document.title,window.location.pathname))},watch:{rememberMe(o){o?(localStorage.setItem("savedEmail",this.email),localStorage.setItem("rememberMe","true")):(localStorage.removeItem("savedEmail"),localStorage.setItem("rememberMe","false"),this.email="")},email(o){this.rememberMe&&localStorage.setItem("savedEmail",o)}},methods:{async LoginAPI(){const o=document.querySelector(".error_msg"),e={value:this.email,focus:()=>{}},i={value:this.password,focus:()=>{}};B(e,o)||L(i,o)||M(this.email,this.password,()=>{this.password="",this.rememberMe||(this.email="")})},async GoogleAPI(){const i="https://accounts.google.com/o/oauth2/v2/auth?client_id=148755362421-us8l17s3ukf88mj23kbs5vj2i8lgu8nk.apps.googleusercontent.com&redirect_uri=undefined&response_type=code&scope=openid%20email%20profile";window.location.href=i}}},V={class:"wrap"},F={class:"content"},H={class:"container content_container"},G={class:"img_breadcrumb_wrapper"},q={class:"main_form"},D={class:"form"},N={class:"form_item"},T={class:"form_item"},j=["type"],R={class:"form_item list_item"},z={class:"check-box"},J={class:"link_item"},K={class:"error_msg"},O={class:"socialLogin"};function Q(o,e,i,m,t,a){const f=n("HeaderComponent"),c=n("Breadcrumb"),p=n("router-link"),v=n("FooterComponent");return S(),x("div",V,[l(f),l(c),s("div",F,[s("div",H,[e[17]||(e[17]=s("div",{class:"vertical-wrapper"},[s("p",{class:"vertical-text"},"走吧!"),s("p",{class:"vertical-text"},"讓每段旅程都有溫度")],-1)),s("div",G,[l(c,{class:"breadcrumb-fixed"}),e[6]||(e[6]=s("div",{class:"main_img"},[s("img",{src:A,alt:"login_img"})],-1))]),s("div",q,[e[15]||(e[15]=s("h2",null,"會員登入",-1)),s("div",D,[s("div",N,[e[7]||(e[7]=s("i",{class:"fa-regular fa-envelope"},null,-1)),d(s("input",{class:"form_txtbox","onUpdate:modelValue":e[0]||(e[0]=r=>t.email=r),id:"login_email",type:"email",placeholder:"請輸入 Email",required:""},null,512),[[I,t.email]])]),s("div",T,[e[8]||(e[8]=s("i",{class:"fa-solid fa-lock"},null,-1)),d(s("input",{class:"form_txtbox",type:t.showPassword?"text":"password","onUpdate:modelValue":e[1]||(e[1]=r=>t.password=r),placeholder:"請輸入密碼",required:""},null,8,j),[[h,t.password]]),s("i",{class:k(t.showPassword?"fa-solid fa-eye":"fa-solid fa-eye-slash"),onClick:e[2]||(e[2]=r=>t.showPassword=!t.showPassword),style:{cursor:"pointer"}},null,2)]),s("div",R,[s("label",z,[d(s("input",{type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=r=>t.rememberMe=r)},null,512),[[C,t.rememberMe]]),e[9]||(e[9]=s("span",null,"記住我的 Email",-1))]),s("div",J,[s("span",null,[l(p,{to:"/admin/register"},{default:u(()=>e[10]||(e[10]=[g("立即註冊")])),_:1})]),e[12]||(e[12]=s("span",null,"|",-1)),s("span",null,[l(p,{to:"/admin/forgotpw"},{default:u(()=>e[11]||(e[11]=[g("忘記密碼")])),_:1})])])]),s("p",K,y(t.errorMsg),1),s("input",{class:"submit_btn",type:"submit",value:"登入",onClick:e[4]||(e[4]=(...r)=>a.LoginAPI&&a.LoginAPI(...r))})]),e[16]||(e[16]=s("div",{class:"divider"},[s("span",{class:"divider-text"},"或")],-1)),s("div",O,[s("div",{class:"icon-circle google",onClick:e[5]||(e[5]=(...r)=>a.GoogleAPI&&a.GoogleAPI(...r))},e[13]||(e[13]=[s("i",{class:"fa-brands fa-google"},null,-1)])),e[14]||(e[14]=s("div",{class:"icon-circle fb"},[s("i",{class:"fa-brands fa-facebook-f"})],-1))])])])]),l(v)])}const Z=_(U,[["render",Q],["__scopeId","data-v-efbe79c5"]]);export{Z as default};
