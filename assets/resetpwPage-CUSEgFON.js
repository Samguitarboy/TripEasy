import{_,c,b as e,o as a,F as y,H as g,y as C,e as x,k as E,a as p,r as d,f as b,g as l,h as m,n as u,v as V,t as I,D as T,E as w}from"./index-BFa3nxHJ.js";import{a as f}from"./function-Irmiw5j9.js";const S="/TripEasy/assets/Error-DSgudTZE.webp",B={name:"ErrorComponent"},D={class:"error-page"};function F(r,s,n,h,o,i){return a(),c("div",D,s[0]||(s[0]=[e("h2",null,"Oops! 你來到了一個不存在的地方",-1),e("img",{id:"error_img",src:S,alt:"Error_img"},null,-1)]))}const H=_(B,[["render",F],["__scopeId","data-v-a6765ee4"]]),M="/TripEasy/assets/reset-password-BFb3JohG.webp",N={name:"resetPage",components:{HeaderComponent:g,FooterComponent:y,ErrorComponent:H},data(){return{newPassword:"",confirmPassword:"",captchaInput:"",token:"",errorMsg:"",showPassword1:!1,showPassword2:!1,tokenValid:!1,checkedToken:!1}},mounted(){const r=new URLSearchParams(window.location.search);if(this.token=r.get("token"),w(),this.token)this.checkedToken=!0,this.tokenValid=!0;else{this.checkedToken=!0,this.tokenValid=!1;return}const s=document.getElementById("captcha");s&&s.addEventListener("click",()=>w())},methods:{async handleSubmit(){const r={value:this.newPassword,focus:()=>{}},s={value:this.confirmPassword,focus:()=>{}},n=document.querySelector(".error_msg");f(r,n)||f(s,n)||await T(this.token,this.newPassword.trim(),this.confirmPassword.trim(),this.captchaInput.trim(),()=>{this.newPassword="",this.confirmPassword="",this.captchaInput=""})}}},U={key:0,class:"wrap"},q={class:"content"},L={class:"container content_container"},z={class:"main_form"},G={class:"form"},J={class:"form_item"},O=["type"],R={class:"form_item"},W=["type"],Z={class:"form_item captcha_item"},j={class:"error_msg"};function A(r,s,n,h,o,i){const v=d("HeaderComponent"),k=d("FooterComponent"),P=d("ErrorComponent");return o.checkedToken?(a(),c("div",U,[o.tokenValid?(a(),c(E,{key:0},[p(v),e("div",q,[e("div",L,[s[10]||(s[10]=b('<div class="vertical-wrapper" data-v-c3e30f7e><p class="vertical-text" data-v-c3e30f7e>走吧!</p><p class="vertical-text" data-v-c3e30f7e>讓每段旅程都有溫度</p></div><div class="main_img" data-v-c3e30f7e><img src="'+M+'" alt="reset_password_img" data-v-c3e30f7e></div>',2)),e("div",z,[s[9]||(s[9]=e("h2",null,"修改密碼",-1)),e("div",G,[e("div",J,[s[6]||(s[6]=e("i",{class:"fa-solid fa-lock"},null,-1)),l(e("input",{class:"form_txtbox",type:o.showPassword1?"text":"password","onUpdate:modelValue":s[0]||(s[0]=t=>o.newPassword=t),placeholder:"請輸入新密碼",required:""},null,8,O),[[m,o.newPassword]]),e("i",{class:u(["fa-solid",o.showPassword1?"fa-eye":"fa-eye-slash"]),onClick:s[1]||(s[1]=t=>o.showPassword1=!o.showPassword1)},null,2)]),e("div",R,[s[7]||(s[7]=e("i",{class:"fa-solid fa-lock"},null,-1)),l(e("input",{class:"form_txtbox",type:o.showPassword2?"text":"password","onUpdate:modelValue":s[2]||(s[2]=t=>o.confirmPassword=t),placeholder:"請再次輸入新密碼",required:""},null,8,W),[[m,o.confirmPassword]]),e("i",{class:u(["fa-solid",o.showPassword2?"fa-eye":"fa-eye-slash"]),onClick:s[3]||(s[3]=t=>o.showPassword2=!o.showPassword2)},null,2)]),e("div",Z,[l(e("input",{type:"text",id:"captchaInput","onUpdate:modelValue":s[4]||(s[4]=t=>o.captchaInput=t),placeholder:"請輸入驗證碼"},null,512),[[V,o.captchaInput]]),s[8]||(s[8]=e("div",{id:"captcha"},null,-1))]),e("p",j,I(o.errorMsg),1),e("input",{class:"submit_btn",type:"submit",value:"送出",onClick:s[5]||(s[5]=(...t)=>i.handleSubmit&&i.handleSubmit(...t))})])])])]),p(k)],64)):(a(),x(P,{key:1}))])):C("",!0)}const X=_(N,[["render",A],["__scopeId","data-v-c3e30f7e"]]);export{X as default};
