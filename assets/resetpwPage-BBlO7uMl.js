import{_ as f,c as p,a as o,o as i,F as b,H as y,x,b as C,j as E,d as l,r as a,w as c,e as m,n as u,v as V,t as I,C as B,D as w}from"./index-Bv1pKq8z.js";import{a as _}from"./function-Irmiw5j9.js";const S="/assets/Error-DSgudTZE.webp",T={name:"ErrorComponent"},D={class:"error-page"};function F(r,s,n,h,e,d){return i(),p("div",D,s[0]||(s[0]=[o("h2",null,"Oops! 你來到了一個不存在的地方",-1),o("img",{id:"error_img",src:S,alt:"Error_img"},null,-1)]))}const H=f(T,[["render",F],["__scopeId","data-v-a6765ee4"]]),M="/assets/reset-password-BFb3JohG.webp",U={name:"resetPage",components:{HeaderComponent:y,FooterComponent:b,ErrorComponent:H},data(){return{newPassword:"",confirmPassword:"",captchaInput:"",token:"",errorMsg:"",showPassword1:!1,showPassword2:!1,tokenValid:!1,checkedToken:!1}},mounted(){const r=new URLSearchParams(window.location.search);if(this.token=r.get("token"),w(),this.token)this.checkedToken=!0,this.tokenValid=!0;else{this.checkedToken=!0,this.tokenValid=!1;return}const s=document.getElementById("captcha");s&&s.addEventListener("click",()=>w())},methods:{async handleSubmit(){const r={value:this.newPassword,focus:()=>{}},s={value:this.confirmPassword,focus:()=>{}},n=document.querySelector(".error_msg");_(r,n)||_(s,n)||await B(this.token,this.newPassword.trim(),this.confirmPassword.trim(),this.captchaInput.trim(),()=>{this.newPassword="",this.confirmPassword="",this.captchaInput=""})}}},q={key:0,class:"wrap"},N={class:"content"},L={class:"container content_container"},j={class:"img_breadcrumb_wrapper"},z={class:"main_form"},G={class:"form"},J={class:"form_item"},O=["type"],R={class:"form_item"},W=["type"],Z={class:"form_item captcha_item"},A={class:"error_msg"};function K(r,s,n,h,e,d){const v=a("HeaderComponent"),k=a("Breadcrumb"),P=a("FooterComponent"),g=a("ErrorComponent");return e.checkedToken?(i(),p("div",q,[e.tokenValid?(i(),p(E,{key:0},[l(v),o("div",N,[o("div",L,[s[11]||(s[11]=o("div",{class:"vertical-wrapper"},[o("p",{class:"vertical-text"},"走吧!"),o("p",{class:"vertical-text"},"讓每段旅程都有溫度")],-1)),o("div",j,[l(k,{class:"breadcrumb-fixed"}),s[6]||(s[6]=o("div",{class:"main_img"},[o("img",{src:M,alt:"reset_password_img"})],-1))]),o("div",z,[s[10]||(s[10]=o("h2",null,"修改密碼",-1)),o("div",G,[o("div",J,[s[7]||(s[7]=o("i",{class:"fa-solid fa-lock"},null,-1)),c(o("input",{class:"form_txtbox",type:e.showPassword1?"text":"password","onUpdate:modelValue":s[0]||(s[0]=t=>e.newPassword=t),placeholder:"請輸入新密碼",required:""},null,8,O),[[m,e.newPassword]]),o("i",{class:u(["fa-solid",e.showPassword1?"fa-eye":"fa-eye-slash"]),onClick:s[1]||(s[1]=t=>e.showPassword1=!e.showPassword1)},null,2)]),o("div",R,[s[8]||(s[8]=o("i",{class:"fa-solid fa-lock"},null,-1)),c(o("input",{class:"form_txtbox",type:e.showPassword2?"text":"password","onUpdate:modelValue":s[2]||(s[2]=t=>e.confirmPassword=t),placeholder:"請再次輸入新密碼",required:""},null,8,W),[[m,e.confirmPassword]]),o("i",{class:u(["fa-solid",e.showPassword2?"fa-eye":"fa-eye-slash"]),onClick:s[3]||(s[3]=t=>e.showPassword2=!e.showPassword2)},null,2)]),o("div",Z,[c(o("input",{type:"text",id:"captchaInput","onUpdate:modelValue":s[4]||(s[4]=t=>e.captchaInput=t),placeholder:"請輸入驗證碼"},null,512),[[V,e.captchaInput]]),s[9]||(s[9]=o("div",{id:"captcha"},null,-1))]),o("p",A,I(e.errorMsg),1),o("input",{class:"submit_btn",type:"submit",value:"送出",onClick:s[5]||(s[5]=(...t)=>d.handleSubmit&&d.handleSubmit(...t))})])])])]),l(P)],64)):(i(),C(g,{key:1}))])):x("",!0)}const Y=f(U,[["render",K],["__scopeId","data-v-560ddf11"]]);export{Y as default};
