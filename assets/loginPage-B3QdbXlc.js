import{_ as v,F as w,H as _,c as b,a as r,b as s,r as m,f as x,g as d,v as I,h,n as k,i as y,w as c,t as C,p as M,j as P,o as S,d as u}from"./index-BFa3nxHJ.js";import{v as E,a as L}from"./function-Irmiw5j9.js";const V="/TripEasy/assets/login-CHvFKpRJ.webp",A={name:"loginPage",components:{HeaderComponent:_,FooterComponent:w},data(){return{email:"",password:"",rememberMe:!1,showPassword:!1,errorMsg:""}},mounted(){const o=localStorage.getItem("savedEmail"),e=localStorage.getItem("rememberMe")==="true";o&&e&&(this.email=o,this.rememberMe=!0);const n=new URLSearchParams(window.location.search).get("code");n&&(P(n),window.history.replaceState({},document.title,window.location.pathname))},watch:{rememberMe(o){o?(localStorage.setItem("savedEmail",this.email),localStorage.setItem("rememberMe","true")):(localStorage.removeItem("savedEmail"),localStorage.setItem("rememberMe","false"),this.email="")},email(o){this.rememberMe&&localStorage.setItem("savedEmail",o)}},methods:{async LoginAPI(){const o=document.querySelector(".error_msg"),e={value:this.email,focus:()=>{}},l={value:this.password,focus:()=>{}};E(e,o)||L(l,o)||M(this.email,this.password,()=>{this.password="",this.rememberMe||(this.email="")})},async GoogleAPI(){const l="https://accounts.google.com/o/oauth2/v2/auth?client_id=148755362421-us8l17s3ukf88mj23kbs5vj2i8lgu8nk.apps.googleusercontent.com&redirect_uri=undefined&response_type=code&scope=openid%20email%20profile";window.location.href=l}}},U={class:"wrap"},F={class:"content"},H={class:"container content_container"},G={class:"main_form"},N={class:"form"},T={class:"form_item"},j={class:"form_item"},q=["type"],B={class:"form_item list_item"},D={class:"check-box"},R={class:"link_item"},z={class:"error_msg"},J={class:"socialLogin"};function K(o,e,l,n,t,a){const f=m("HeaderComponent"),p=m("router-link"),g=m("FooterComponent");return S(),b("div",U,[r(f),s("div",F,[s("div",H,[e[16]||(e[16]=x('<div class="vertical-wrapper" data-v-46f3e906><p class="vertical-text" data-v-46f3e906>走吧!</p><p class="vertical-text" data-v-46f3e906>讓每段旅程都有溫度</p></div><div class="main_img" data-v-46f3e906><img src="'+V+'" alt="login_img" data-v-46f3e906></div>',2)),s("div",G,[e[14]||(e[14]=s("h2",null,"會員登入",-1)),s("div",N,[s("div",T,[e[6]||(e[6]=s("i",{class:"fa-regular fa-envelope"},null,-1)),d(s("input",{class:"form_txtbox","onUpdate:modelValue":e[0]||(e[0]=i=>t.email=i),id:"login_email",type:"email",placeholder:"請輸入 Email",required:""},null,512),[[I,t.email]])]),s("div",j,[e[7]||(e[7]=s("i",{class:"fa-solid fa-lock"},null,-1)),d(s("input",{class:"form_txtbox",type:t.showPassword?"text":"password","onUpdate:modelValue":e[1]||(e[1]=i=>t.password=i),placeholder:"請輸入密碼",required:""},null,8,q),[[h,t.password]]),s("i",{class:k(t.showPassword?"fa-solid fa-eye":"fa-solid fa-eye-slash"),onClick:e[2]||(e[2]=i=>t.showPassword=!t.showPassword),style:{cursor:"pointer"}},null,2)]),s("div",B,[s("label",D,[d(s("input",{type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=i=>t.rememberMe=i)},null,512),[[y,t.rememberMe]]),e[8]||(e[8]=s("span",null,"記住我的 Email",-1))]),s("div",R,[s("span",null,[r(p,{to:"/admin/register"},{default:c(()=>e[9]||(e[9]=[u("立即註冊")])),_:1})]),e[11]||(e[11]=s("span",null,"|",-1)),s("span",null,[r(p,{to:"/admin/forgotpw"},{default:c(()=>e[10]||(e[10]=[u("忘記密碼")])),_:1})])])]),s("p",z,C(t.errorMsg),1),s("input",{class:"submit_btn",type:"submit",value:"登入",onClick:e[4]||(e[4]=(...i)=>a.LoginAPI&&a.LoginAPI(...i))})]),e[15]||(e[15]=s("div",{class:"divider"},[s("span",{class:"divider-text"},"或")],-1)),s("div",J,[s("div",{class:"icon-circle google",onClick:e[5]||(e[5]=(...i)=>a.GoogleAPI&&a.GoogleAPI(...i))},e[12]||(e[12]=[s("i",{class:"fa-brands fa-google"},null,-1)])),e[13]||(e[13]=s("div",{class:"icon-circle fb"},[s("i",{class:"fa-brands fa-facebook-f"})],-1))])])])]),r(g)])}const W=v(A,[["render",K],["__scopeId","data-v-46f3e906"]]);export{W as default};
