<template>
  <div class="wrap">
    <!-- Header -->
    <HeaderComponent />

    <div class="container-fluid px-0">
        <div class="hero-banner d-flex align-items-center justify-content-center">
          <div class="container top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-end px-4 px-md-5">
              <h2 class="main-title text-white fw-bold text-center pe-5 pe-md-9 flex-grow-1 text-shadow-lg">
                  è³¼ç‰©å°ˆå€
              </h2>
              <div class="verse-container d-flex flex-row-reverse align-items-start pe-3">
                  <p class="right-text">
                  ä¸–ç•Œé€™éº¼å¤§ã€<br />
                  ä¸å¿…èµ°å¾—å¤ªé <br />
                  ä¹Ÿèƒ½é‡è¦‹<br />
                  è®“ä½ å¿ƒå‹•çš„é¢¨æ™¯
                  </p>
                  <p class="right-text me-5">
                  è·Ÿè‘—æˆ‘å€‘<br />
                  æŠŠæ¯ä¸€æ¬¡å‡ºèµ°<br />
                  è®Šæˆç”Ÿæ´»è£¡<br />
                  æœ€æº«æŸ”çš„ç‰‡æ®µ
                  </p>
              </div>
          </div>
      </div>

      <!-- æœå°‹å€+å•†å“æ¸…å–®å€+åˆ†é å™¨ -->
    <div class="main-content">
      <Breadcrumb />
      <!-- æœå°‹å€ -->
      <div class="bg-white py-4">
        <div class="container">

          <!-- åˆ†é¡ -->
          <div class="row g-3 align-items-end mb-3">
            <div class="col-6 col-md-3">
              <div class="d-flex align-items-center">
                <label class="form-label mb-0 me-5" style="white-space:nowrap;">åˆ†é¡</label>
                <select class="form-select" v-model="filters.category" style="width:180px;">
                  <option disabled value="">æ—…è¡Œåœ˜</option>
                  <option>èƒŒåŒ…å®¢</option>
                </select>
              </div>
            </div>

            <!-- é …ç›®é¡åˆ¥ -->
            <div class="col-6 col-md-3">
              <div class="d-flex align-items-center">
                <label class="form-label mb-0 me-3" style="white-space:nowrap;">é …ç›®é¡åˆ¥</label>
                <select class="form-select" v-model="filters.itemType" style="width:180px;">
                  <option disabled value="">æ—…éŠè¡Œç¨‹</option>
                  <option>ç¾é£Ÿå°ˆå€</option>
                  <option>é£¯åº—å°ˆå€</option>
                  <option>æ—…éŠå°ˆå€</option>
                </select>
              </div>
            </div>

            <!-- åå¥½åˆ†é¡ -->
            <div class="col-6 col-md-3">
              <div class="d-flex align-items-center">
                <label class="form-label mb-0 me-3" style="white-space:nowrap;">åå¥½åˆ†é¡</label>
                <select class="form-select" v-model="filters.preference" style="width:180px;">
                  <option disabled value="">é¸æ“‡åˆ†é¡</option>
                  <option>æ¢ç´¢å†’éšªç³»</option>
                  <option>æ”¾é¬†ç™‚ç™’ç³»</option>
                  <option>æ–‡åŒ–é«”é©—ç³»</option>
                  <option>ç¾é£Ÿæ¢ç´¢ç³»</option>
                  <option>éƒ½å¸‚æ„Ÿå®˜ç³»</option>
                  <option>è‡ªç„¶ç™‚ç™’ç³»</option>
                  <option>è¦ªå­å®¶åº­ç³»</option>
                  <option>æ‹ç…§æ‰“å¡ç³»</option>
                  <option>æ‡¶äººè¼•é¬†ç³»</option>
                  <option>ç‰¹æ®Šä¸»é¡Œç³»</option>
                </select>
              </div>
            </div>
          </div>

          <div class="row g-3 align-items-end mb-3">
            <!-- åœ‹å®¶ -->
            <div class="col-6 col-md-3">
              <div class="d-flex align-items-center">
                <label class="form-label mb-0 me-3" style="white-space:nowrap;">æ‰€åœ¨åœ‹å®¶</label>
                <select class="form-select" v-model="filters.country" style="width:180px;">
                  <option disabled value="">é¸æ“‡åœ‹å®¶</option>
                  <option>å°ç£</option>
                  <option>æ—¥æœ¬</option>
                  <option>éŸ“åœ‹</option>
                  <option>æ³°åœ‹</option>
                  <option>æ–°åŠ å¡</option>
                  <option>é¦¬ä¾†è¥¿äº</option>
                  <option>ç¾åœ‹</option>
                </select>
              </div>
            </div>

            <!-- åœ°å€ -->
            <div class="col-6 col-md-3">
              <div class="d-flex align-items-center">
                <label class="form-label mb-0 me-3" style="white-space:nowrap;">æ‰€åœ¨åœ°å€</label>
                <select class="form-select" v-model="filters.area" style="width:180px;">
                  <option disabled value="">é¸æ“‡åœ°å€</option>
                  <option>å°åŒ—å¸‚</option>
                  <option>æ–°åŒ—å¸‚</option>
                  <option>å®œè˜­å¸‚</option>
                  <option>æ¡ƒåœ’å¸‚</option>
                  <option>æ–°ç«¹å¸‚</option>
                </select>
              </div>
            </div>
          </div>

            <!-- é‡‘é¡ -->
          <div class="row g-3 align-items-end mb-3">
            <div class="col-6 col-md-3">
              <div class="d-flex align-items-center">
                <label class="form-label mb-0 me-3" style="white-space:nowrap;">è³¼è²·é‡‘é¡</label>
                <input type="text" class="form-control" placeholder="æœ€å°é‡‘é¡"  style="width:180px;"/>
                <span class="mx-1"> â€“ </span>
                <input type="text" class="form-control" placeholder="æœ€å¤§é‡‘é¡"  style="width:180px;"/>
              </div>
            </div>
          </div>

          <!-- æ—…éŠæ—¥æœŸ + æ—…éŠå¤©æ•¸ï¼šåŒä¸€åˆ— -->
          <div class="row g-3 align-items-end mb-3">
            <!-- æ—…éŠæ—¥æœŸï¼ˆå·¦å´ï¼‰ -->
            <div class="col-12 col-md-6">
              <div class="d-flex align-items-center">
                <label class="form-label mb-0 me-3" style="white-space:nowrap;">æ—…éŠæ—¥æœŸ</label>

                <!-- æœ€æ—©æ—¥æœŸ -->
                <div class="fake-date-input" style="width:180px;">
                  <input type="text" class="form-control" :value="displayStartDate || ''" placeholder="æœ€æ—©æ—¥æœŸ" readonly />
                  <span class="calendar-icon" @click="openDatePicker('start')">ğŸ“…</span>
                  <input type="date" ref="startDateRef" v-model="filters.startDate" @change="onStartDateChange" />
                </div>

                <span class="mx-1"> â€“ </span>

                <!-- æœ€æ™šæ—¥æœŸ -->
                <div class="fake-date-input" style="width:180px;">
                  <input type="text" class="form-control" :value="displayEndDate || ''" placeholder="æœ€æ™šæ—¥æœŸ" readonly />
                  <span class="calendar-icon" @click="openDatePicker('end')">ğŸ“…</span>
                  <input type="date" ref="endDateRef" v-model="filters.endDate" @change="onEndDateChange" />
                </div>
              </div>
            </div>

            <!-- æ—…éŠå¤©æ•¸ï¼ˆå³å´ï¼‰ -->
            <div class="col-12 col-md-3">
              <div class="d-flex align-items-center">
                <label class="form-label mb-0 me-3" style="white-space:nowrap;">æ—…éŠå¤©æ•¸</label>
                <select class="form-select" v-model="filters.days" style="width:180px;">
                  <option disabled value="">é¸æ“‡å¤©æ•¸</option>
                  <option>1</option>
                  <option>2</option>
                  <option>3</option>
                  <option>4</option>
                  <option>5</option>
                </select>
              </div>
            </div>

            <!-- ä½”ä½ï¼ˆä¿æŒå³å°é½Šç”¨ï¼Œå¯ç•™ç©ºï¼‰ -->
            <div class="col-md-3"></div>
          </div>

          <!-- é—œéµå­— -->
          <div class="row g-3 align-items-end mb-3">
            <div class="col-12 col-md-6">
              <div class="d-flex align-items-center">
                <label class="form-label mb-0" style="white-space:nowrap; margin-right: 2em;">é—œéµå­—</label>
                <input
                  type="text"
                  class="form-control"
                  placeholder="è«‹è¼¸å…¥é—œéµå­—"
                  v-model="filters.keyword"
                  style="width:376px;"
                />
              </div>
            </div>
          </div>


            <!-- æœå°‹ -->
            <div class="col-12 col-md-12 text-end">
              <button class="btn btn-outline-dark mt-4 btn-oval">æœå°‹</button>
            </div>
          </div>
        </div>
      </div>

      <!-- æ’åºèˆ‡æ¯é é¡¯ç¤ºæ•¸é‡æ§åˆ¶åˆ— -->
      <div class="container d-flex justify-content-between align-items-center my-3">
          <!-- æ¯é é¡¯ç¤ºç­†æ•¸é¸å–® -->
          <div class="d-flex align-items-center">
            <select v-model="itemsPerPage" class="form-select form-select-lg" style="width: 180px;">
              <option :value="2">ç­†æ•¸ï¼š2</option>
              <option :value="4">ç­†æ•¸ï¼š4</option>
              <option :value="6" selected>ç­†æ•¸</option>
            </select>
          </div>
          <!-- é‡‘é¡æ’åºé¸å–® -->
          <div class="d-flex align-items-center">
            <select v-model="sortOrder" @change="onSortOrderChange" class="form-select form-select-lg" style="width: 180px;">
              <option value=null>é‡‘é¡æ’åº</option>
              <option value="asc">é‡‘é¡å‡åº â–²</option>
              <option value="desc">é‡‘é¡é™åº â–¼</option>
            </select>
          </div>
        </div>
      <!-- å•†å“æ¸…å–®å€ -->
    <div class="container my-5">
        <div class="row gy-4">
          <div class="col-12" v-for="(item) in paginatedItems" :key="item.id">
            <div class="d-flex bg-white rounded shadow-sm overflow-hidden">

              <!-- åœ–ç‰‡ -->
              <img :src="item.img" class="img-fluid" style="object-fit: cover;" />

              <!-- å…§å®¹ -->
              <div class="p-3 flex-grow-1">

                  <!-- æ¨™ç±¤ -->
                  <div>
                    <span v-if="item.tag1" class="badge bg-warning text-dark me-1">{{ item.tag1 }}</span>
                    <span v-if="item.tag2" class="badge bg-warning text-dark me-1">{{ item.tag2 }}</span>
                    <span v-if="item.tag3" class="badge bg-danger text-white">{{ item.tag3 }}</span>
                  </div>

                <!-- ä¸»å…§å®¹å€å¡Šï¼šå·¦å´(title/desc) + å³å´(æ—¥æœŸ/åƒ¹æ ¼/æŒ‰éˆ•) -->
                <div class="d-flex">
                  <!-- å·¦å´ï¼štitle + æ”¶è— + desc -->
                  <div class="flex-grow-1">
                    <div class="d-flex align-items-center mb-1">
                      <h5 class="mb-0">{{ item.title }}</h5>
                      <span
                        class="fs-5 favorite-icon ms-2"
                        :class="{ active: item.isFavorite }"
                        @click="toggleFavorite(item)"
                        role="button"
                        title="æ”¶è—"
                      >
                        {{ item.isFavorite ? 'â™¥' : 'â™¡' }}
                      </span>
                    </div>
                    <p class="mb-2 small text-start">{{ item.desc }}</p>
                  </div>

                  <!-- å³å´ï¼šæ—¥æœŸ/åƒ¹æ ¼/æŒ‰éˆ• -->
                  <div class="text-end ms-3" style="min-width: 210px;">
                    <div>{{ item.date }}</div>
                    <div class="price-custom mt-2 mb-1">
                      NT${{ item.price.toLocaleString() }}
                    </div>
                    <small class="text-muted text-decoration-line-through d-block mb-2">
                      NT${{ item.original.toLocaleString() }}
                    </small>
                    <button class="btn btn-outline-dark btn-sm">æŸ¥çœ‹è©³æƒ…</button>
                  </div>

                </div>

              </div>

            </div>
          </div>

        <!-- åˆ†é å™¨ -->
        <nav class="d-flex justify-content-center mt-4">
          <ul class="pagination">
            <li class="page-item" :class="{ disabled: currentPage === 1 }">
              <button class="page-link" @click="prevPage">&laquo;</button>
            </li>
            <li
              class="page-item"
              v-for="page in totalPages"
              :key="page"
              :class="{ active: currentPage === page }"
            >
              <button class="page-link" @click="goToPage(page)">{{ page }}</button>
            </li>
            <li class="page-item" :class="{ disabled: currentPage === totalPages }">
              <button class="page-link" @click="nextPage">&raquo;</button>
            </li>
          </ul>
        </nav>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <FooterComponent />
  </div>
</template>


<script setup>
import FooterComponent from '@/components/FooterComponent.vue';
import HeaderComponent from '@/components/HeaderComponent.vue';
import Breadcrumb from '@/components/Breadcrumb.vue';
import view1 from '@/assets/img/search/view1.png';
import view2 from '@/assets/img/search/view2.jpg';
import view3 from '@/assets/img/search/view3.jpg';
import view4 from '@/assets/img/search/view4.jpg';
import view5 from '@/assets/img/search/view5.jpg';
import view6 from '@/assets/img/search/view6.jpg';

import { reactive, computed, ref } from 'vue';

const filters = reactive({
  category: '',   //åˆ†é¡
  itemType: '',   //é …ç›®é¡åˆ¥
  preference: '', //åå¥½åˆ†é¡
  country: '',    //åœ‹å®¶
  area:'',        //åœ°å€
  days:'',        //å¤©æ•¸
  keyword: '',    //é—œéµå­—
});
const sortOrder = ref(null) // null=æ²’æ’åº, 'asc'=å‡åº, 'desc'=é™åº
const itemsPerPageOptions = [2, 4, 6]

const allItems = ref([
  {
    id: 1,
    title: 'æ‘©æ´›å“¥ï½œæ’’å“ˆæ‹‰æ²™æ¼ ',
    desc: 'è–©å“ˆæ‹‰æ²™æ¼ æ˜¯å…¨çƒæœ€å¤§çš„ç†±å¸¶æ²™æ¼ ï¼Œé¢ç©é”åˆ°ç´„940è¬å¹³æ–¹å…¬é‡Œï¼Œæ©«è·¨å¤šå€‹åœ‹å®¶ï¼Œæ“æœ‰å£¯éº—çš„æ²™ä¸˜å’Œå¤šæ¨£çš„ç”Ÿæ…‹ç³»çµ±ã€‚é€™è£¡çš„æ°£å€™æ¥µç«¯ï¼Œç™½å¤©çš„æ°£æº«å¯é”50æ”æ°åº¦ï¼Œè€Œå¤œæ™šå‰‡é©Ÿé™è‡³æ¥è¿‘é›¶åº¦ã€‚æ²™æ¼ ä¸­çš„ç”Ÿç‰©é©æ‡‰äº†é€™ç¨®æ¥µç«¯ç’°å¢ƒï¼Œå½¢æˆäº†ç¨ç‰¹çš„ç”Ÿæ…‹å¹³è¡¡ã€‚æ¯å¹´ï¼Œç„¡æ•¸æ¢éšªè€…å’Œæ”å½±æ„›å¥½è€…è¢«é€™ç‰‡ç¥ç§˜çš„åœŸåœ°æ‰€å¸å¼•ï¼Œä¾†æ­¤æ¢ç´¢å…¶å£¯è§€çš„è‡ªç„¶æ™¯è§€å’Œè±å¯Œçš„æ–‡åŒ–éºç”¢ã€‚',
    price: 18800,
    original: 20800,
    date: '2025.04.10 ~ 2025.04.12',
    tag1: 'æ¢ç´¢å†’éšª',
    tag2: 'è‡ªç„¶ç™‚ç™’',
    img: view1,
    isFavorite: false,
  },
  {
    id: 2,
    title: 'ç§˜é­¯ï½œé¦¬ä¸˜æ¯”ä¸˜',
    desc: 'é¦¬ä¸˜æ¯”ä¸˜æ˜¯ç§˜é­¯æœ€è‘—åçš„å¤ä»£éºå€ä¹‹ä¸€ï¼Œåè½åœ¨å®‰ç¬¬æ–¯å±±è„ˆçš„é«˜è™•ï¼Œæµ·æ‹”ç´„2430ç±³ã€‚é€™åº§å°åŠ åŸå¸‚ä»¥å…¶å£¯è§€çš„çŸ³é€ å»ºç¯‰å’Œå£¯éº—çš„è‡ªç„¶æ™¯è§€è€Œèåï¼Œå‘¨åœç’°ç¹è‘—é›²éœ§ç¹šç¹çš„å±±å³°å’Œç¿ ç¶ çš„å±±è°·ã€‚éŠå®¢å¯ä»¥åœ¨é€™è£¡æ¬£è³åˆ°ç²¾ç¾çš„æ¢¯ç”°ã€ç¥ç§˜çš„ç¥å»Ÿå’Œå£¯è§€çš„æ—¥å‡ºï¼Œæ„Ÿå—å°åŠ æ–‡æ˜çš„é­…åŠ›ã€‚æ¯å¹´å¸å¼•è‘—æˆåƒä¸Šè¬çš„éŠå®¢å‰ä¾†æ¢ç´¢é€™ç‰‡æ­·å²æ‚ ä¹…çš„åœŸåœ°ï¼Œé«”é©—å¤ä»£æ–‡åŒ–çš„ç¨ç‰¹æ°›åœã€‚',
    price: 120000,
    original: 140800,
    date: '2025.04.10 ~ 2025.04.12',
    tag1: 'æ‡¶äººè¼•é¬†',
    tag2: 'è‡ªç„¶ç™‚ç™’',
    img: view2,
    isFavorite: false,
  },
  {
    id: 3,
    title: 'åœŸè€³å…¶ï½œç†±æ°£çƒä¹‹æ—…',
    desc: 'åœ¨åœŸè€³å…¶ï¼Œç†±æ°£çƒé£›è¡Œæ˜¯ä¸€é …ä»¤äººé©šå˜†çš„é«”é©—ï¼Œå°¤å…¶æ˜¯åœ¨å¡å¸•å¤šå¥‡äºåœ°å€ã€‚é€™è£¡çš„ç¨ç‰¹åœ°è²Œå’Œå£¯éº—çš„æ—¥å‡ºæ™¯è‰²å¸å¼•äº†ç„¡æ•¸éŠå®¢ã€‚ä¹˜åç†±æ°£çƒï¼Œæ‚¨å¯ä»¥ä¿¯ç°åˆ°å¥‡ç‰¹çš„å²©çŸ³å½¢æˆã€å¤è€çš„æ´ç©´ä½å®…å’Œå»£è¢¤çš„è‘¡è„åœ’ã€‚é£›è¡Œéç¨‹ä¸­ï¼Œæ‚¨æœƒæ„Ÿå—åˆ°å¾®é¢¨æ‹‚é¢ï¼Œä¸¦ä¸”èƒ½å¤ æ‹æ”åˆ°å£¯è§€çš„å…¨æ™¯ï¼Œé€™å°‡æˆç‚ºæ‚¨æ—…è¡Œä¸­é›£å¿˜çš„å›æ†¶ã€‚',
    price: 18800,
    original: 20800,
    date: '2025.04.10 ~ 2025.04.12',
    tag1: 'æ–‡åŒ–é«”é©—',
    tag2: 'è‡ªç„¶ç™‚ç™’',
    img: view3,
    isFavorite: false,
  },
  {
    id: 4,
    title: 'ç¾©å¤§åˆ©ï½œæ–‡è—å¾©èˆˆå·¡ç¦®',
    desc: 'ç¾©å¤§åˆ©çš„æ—…ç¨‹å……æ»¿äº†è¿·äººçš„æ™¯é»å’Œè±å¯Œçš„æ­·å²ã€‚å¾ç¾…é¦¬çš„å¤è€éºè·¡ï¼Œå¦‚ç¾…é¦¬ç«¶æŠ€å ´å’Œè¬ç¥æ®¿ï¼Œåˆ°å¨å°¼æ–¯çš„æµªæ¼«é‹æ²³ï¼Œé€™è£¡æ¯ä¸€å€‹è§’è½éƒ½æ•£ç™¼è‘—è—è¡“çš„æ°£æ¯ã€‚ä½›ç¾…å€«æ–¯çš„çƒè²èŒ²ç¾è¡“é¤¨æ”¶è—äº†ç„¡æ•¸å¤§å¸«çš„ä½œå“ï¼Œè€Œæ¯”è–©çš„æ–œå¡”å‰‡æ˜¯å»ºç¯‰å¥‡è¹Ÿçš„è±¡å¾µã€‚ç„¡è«–æ˜¯å“åšç•¶åœ°çš„ç¾é£Ÿï¼Œé‚„æ˜¯æ¼«æ­¥åœ¨å¤è€çš„è¡—é“ä¸Šï¼Œç¾©å¤§åˆ©éƒ½æœƒè®“ä½ æµé€£å¿˜è¿”ï¼Œæ„Ÿå—åˆ°ç„¡èˆ‡å€«æ¯”çš„é­…åŠ›ã€‚',
    price: 18800,
    original: 20800,
    date: '2025.04.10 ~ 2025.04.12',
    tag1: 'éƒ½å¸‚æ„Ÿå®˜',
    tag2: 'æ‹ç…§æ‰“å¡',
    img: view4,
    isFavorite: false,
  },
  {
    id: 5,
    title: 'åŠ æ‹¿å¤§ï½œæ´›ç£¯å±±è„ˆ',
    desc: 'åŠ æ‹¿å¤§æ´›ç£¯å±±è„ˆæ˜¯è‡ªç„¶æ„›å¥½è€…çš„å¤©å ‚ï¼Œæ“æœ‰å£¯è§€çš„å±±è„ˆã€æ¸…æ¾ˆçš„æ¹–æ³Šå’ŒèŒ‚å¯†çš„æ£®æ—ã€‚é€™è£¡çš„ç­å¤«åœ‹å®¶å…¬åœ’ä»¥å…¶å£¯éº—çš„å†°å·æ¹–æ³Šå’Œå£¯è§€çš„å±±æ™¯è€Œèåï¼ŒéŠå®¢å¯ä»¥åœ¨æ­¤é€²è¡Œå¾’æ­¥æ—…è¡Œã€æ»‘é›ªå’Œé‡ç”Ÿå‹•ç‰©è§€è³ã€‚å†°åŸå¤§é“å‰‡æ˜¯é€šå¾€æ´›ç£¯å±±è„ˆçš„çµ•ä½³è·¯ç·šï¼Œæ²¿é€”å¯æ¬£è³åˆ°å£¯è§€çš„å†°å·å’Œå£¯éº—çš„å±±è„ˆæ™¯è‰²ã€‚ç„¡è«–æ˜¯å¤å­£çš„ç¶ æ„ç›ç„¶ï¼Œé‚„æ˜¯å†¬å­£çš„ç™½é›ªçššçššï¼Œæ´›ç£¯å±±è„ˆéƒ½å±•ç¾å‡ºç„¡èˆ‡å€«æ¯”çš„è‡ªç„¶ç¾ã€‚',
    price: 18800,
    original: 20800,
    date: '2025.04.10 ~ 2025.04.12',
    tag1: 'æ¢ç´¢å†’éšª',
    tag2: 'è‡ªç„¶ç™‚ç™’',
    img: view5,
    isFavorite: false,
  },
  {
    id: 6,
    title: 'ç¾åœ‹ï½œå¤§å³½è°·',
    desc: 'ç¾åœ‹å¤§å³½è°·æ˜¯ä¸–ç•Œä¸Šæœ€å£¯è§€çš„è‡ªç„¶å¥‡è§€ä¹‹ä¸€ï¼Œæ·±é”1800ç±³ï¼Œé•·ç´„446å…¬é‡Œï¼Œå¯¬åº¦å¾6åˆ°29å…¬é‡Œä¸ç­‰ã€‚é€™è£¡çš„å²©çŸ³å±¤é¡¯ç¤ºäº†åœ°çƒæ•¸ç™¾è¬å¹´çš„åœ°è³ªæ­·å²ï¼Œè‰²å½©æ–‘æ–•çš„å²©å£åœ¨é™½å…‰ä¸‹é–ƒè€€è‘—è¿·äººçš„å…‰èŠ’ã€‚éŠå®¢å¯ä»¥åœ¨è§€æ™¯å°æ¬£è³å£¯éº—çš„æ™¯è‰²ï¼Œæˆ–åƒåŠ å¾’æ­¥æ—…è¡Œå’Œæ¼‚æµç­‰å†’éšªæ´»å‹•ï¼Œé«”é©—å¤§å³½è°·çš„å£¯é—Šèˆ‡ç¥ç§˜ã€‚æ¯å¹´å¸å¼•æ•¸ç™¾è¬éŠå®¢å‰ä¾†æ¢ç´¢é€™ç‰‡å£–éº—çš„è‡ªç„¶å¯¶è—ã€‚',
    price: 18800,
    original: 20800,
    date: '2025.04.10 ~ 2025.04.12',
    tag1: 'æ¢ç´¢å†’éšª',
    tag2: 'è‡ªç„¶ç™‚ç™’',
    img: view6,
    isFavorite: false,
  },
]);
// æ„›å¿ƒæ”¶è—
function toggleFavorite(item) {
  item.isFavorite = !item.isFavorite;
  allItems.value = [...allItems.value];
}

const displayStartDate = ref('')
const displayEndDate = ref('')
const realDateRef = ref(null)

const openDatePicker = () => {
  realDateRef.value?.click()
}

const onStartDateChange = (event) => {
  displayStartDate.value = event.target.value
}
const onEndDateChange = (event) => {
  displayEndDate.value = event.target.value
}



const currentPage = ref(1);
const itemsPerPage = ref(6);

function onSortOrderChange() {
  currentPage.value = 1
}

// æ¯æ¬¡ç­†æ•¸æ”¹è®Šæ™‚ï¼Œé‡ç½®å›ç¬¬ 1 é 
function onItemsPerPageChange() {
  currentPage.value = 1
}

// åŠ å…¥æ’åºé‚è¼¯
const sortedItems = computed(() => {
  const sorted = [...allItems.value]
  return sorted.sort((a, b) =>
    sortOrder.value === 'asc' ? a.price - b.price : b.price - a.price
  )
})

// æ’åºå¾Œçš„ items ä¾†åšåˆ†é 
const paginatedItems = computed(() => {
  const start = (currentPage.value - 1) * itemsPerPage.value
  return sortedItems.value.slice(start, start + itemsPerPage.value)
})

const totalPages = computed(() =>
  Math.ceil(sortedItems.value.length / itemsPerPage.value)
)

function prevPage() {
  if (currentPage.value > 1) currentPage.value--;
}

function nextPage() {
  if (currentPage.value < totalPages.value) currentPage.value++;
}

function goToPage(page) {
  currentPage.value = page;
}

</script>

<style scoped>
body {
  background-color: #f9f9f9;
}

.main-content{
  max-width: 1296px;
  margin-left: auto;
  margin-right: auto;
}

.hero-banner {
  height: 450px;
  background-image: url('@/assets/img/search/banner.jpg');
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
  overflow: hidden;
}

.main-title {
  font-size: 3.8rem;
  text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.8);
}

.right-text {
  color: white;
  font-size: 1.1rem;
  line-height: 1.5;
  text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.7);
  white-space: nowrap;
  writing-mode: vertical-rl;
  text-orientation: upright;
}
.img-fluid{
  width: 332px;
  height: 192px;
}


.favorite-icon {
  cursor: pointer;
  color: #aaa;
  transition: color 0.1s;
}

.favorite-icon.active {
  color: red;
}

.price-custom {
  font-size: 24px;
  font-weight: 700;
  font-family: 'Noto Serif TC', serif;
  color: red;
  letter-spacing: 1px;
  text-align: right;
}

.fake-date-input {
  position: relative;
  display: inline-block;
  width: 180px;
}

.fake-date-input input[type="text"] {
  width: 100%;
  padding: 8px 30px 8px 12px;
  font-size: 16px;
  box-sizing: border-box;
}

.fake-date-input .calendar-icon {
  position: absolute;
  right: 8px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 16px;
  color: #666;
}

.fake-date-input input[type="date"] {
  position: absolute;
  opacity: 0;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  pointer-events: auto;
}

.btn-oval {
  border-radius: 50px;   /* å¤§åœ“è§’ */
  padding: 10px 40px;    /* ä¸Šä¸‹ 10pxï¼Œå·¦å³ 40px */
  min-width: 120px;      /* æœ€å°å¯¬åº¦ */
}
</style>
